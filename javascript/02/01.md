# 前言

这节将讨论的知识点有：

* 全局预处理
* 函数预处理

# 全局预处理

js解析器在解析执行js脚本之前都会先进行一次预处理来初始化全局词法环境。（LexicalEnvironment）。

如下代码：

    <script>
        var a = 10;
        function func() {
            alert(a);
            //加上这句之后，上一句代码弹出了undefined
            var a = 20;
        }
        func();
    </script>

分析如下：

1. 在解析执行脚本之前，js解析器首先需要执行预处理，初始化LexicalEnvironment对象。
2. 只预处理通过 **function 函数名** 这种方式定义的函数，以及var定义的变量
3. 进过预处理之后，LexicalEnvironment大致如下

        LexicalEnvironment = {
            a: undefined
            func:函数地址
        }